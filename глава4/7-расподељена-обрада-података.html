<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="sr"></html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Расподељена обрада података &#8212; Компоновање рачунарских програма</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/fitb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css" />
    <link rel="stylesheet" type="text/css" href="../_static/lib/prettify.css" />
    <link rel="stylesheet" type="text/css" href="../_static/showEval.css" />
    <link rel="stylesheet" type="text/css" href="../_static/activecode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pytutor.css" />
    <link rel="stylesheet" type="text/css" href="../_static/modal-basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/datafile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/video.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clickable.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css" />
    <link rel="stylesheet" type="text/css" href="../_static/karel.css" />
    <link rel="stylesheet" type="text/css" href="../_static/notes.css" />
    <link rel="stylesheet" type="text/css" href="../_static/simanim.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pycode.css" />
    <link rel="stylesheet" type="text/css" href="../_static/p5js.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/dbDirective.css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-4.0.0-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flatly.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/petlja-runestone.css" type="text/css" />
    <link rel="stylesheet" href="../_staticnbstyle.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/parsons-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/parsons-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/showEval.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/webglinteractive.js"></script>
    <script type="text/javascript" src="../_static/FileSaver.min.js"></script>
    <script type="text/javascript" src="../_static/Blob.js"></script>
    <script type="text/javascript" src="../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../_static/karelCorner.js"></script>
    <script type="text/javascript" src="../_static/karelRobot.js"></script>
    <script type="text/javascript" src="../_static/karelWorld.js"></script>
    <script type="text/javascript" src="../_static/karelRobotDrawer.js"></script>
    <script type="text/javascript" src="../_static/karelUI.js"></script>
    <script type="text/javascript" src="../_static/karel.js"></script>
    <script type="text/javascript" src="../_static/karel-i18n.en.js"></script>
    <script type="text/javascript" src="../_static/notes.js"></script>
    <script type="text/javascript" src="../_static/pygamelib-init.js"></script>
    <script type="text/javascript" src="../_static/blockly/blockly_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/blocks_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/python_compressed.js"></script>
    <script type="text/javascript" src="../_static/blockly/msg-sr.js"></script>
    <script type="text/javascript" src="../_static/blockpy/utilities.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_errors.js"></script>
    <script type="text/javascript" src="../_static/blockpy/ast_node_visitor.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter.js"></script>
    <script type="text/javascript" src="../_static/blockpy/pytifa.js"></script>
    <script type="text/javascript" src="../_static/blockpy/abstract_interpreter_definitions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/python_to_blockly.js"></script>
    <script type="text/javascript" src="../_static/blockpy/imported.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/class.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comment.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/comprehensions.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/dict.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/if.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/io.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/lists.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/sets.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/loops.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/parking.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/tuple.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/turtles.js"></script>
    <script type="text/javascript" src="../_static/blockpy/blocks/text.js"></script>
    <script type="text/javascript" src="../_static/blockpy-modal.js"></script>
    <script type="text/javascript" src="../_static/simanim.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/pyodide/v0.16.1/full/pyodide.js"></script>
    <script type="text/javascript" src="../_static/pycode.js"></script>
    <script type="text/javascript" src="//toolness.github.io/p5.js-widget/p5-widget.js"></script>
    <script type="text/javascript" src="../_static/p5js.js"></script>
    <script type="text/javascript" src="../_static/gallery.js"></script>
    <script type="text/javascript" src="../_static/dbDirective.js"></script>
    <script type="text/javascript" src="../_static/sql.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.sr-Cyrl.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/mchoice-i18n.sr-Latn.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.sr-Cyrl.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/dragndrop-i18n.sr-Latn.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.sr-Cyrl.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/fitb-i18n.sr-Latn.js"></script>
    <script type="text/javascript" src="../_static/parsons-i18n.sr-Cyrl.js"></script>
    <script type="text/javascript" src="../_static/parsons-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/parsons-i18n.sr-Latn.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.sr-Cyrl.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.sr.js"></script>
    <script type="text/javascript" src="../_static/activecode-i18n.sr-Latn.js"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-4.0.0-dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="../_static/require.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Паралелна обрада" href="8-паралелна-обрада.html" />
    <link rel="prev" title="Расподељено израчунавање" href="6-расподељено-израчунавање.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="../_static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host + '/runestone';
  eBookConfig.ajaxURL = eBookConfig.app + '/ajax/';
  eBookConfig.course = 'krp';
  eBookConfig.logLevel = '0';
  eBookConfig.loginRequired = 'false';
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = 'false';
  eBookConfig.python3 = 'true';
  eBookConfig.basecourse = 'krp';
  eBookConfig.runestone_version = '';
  eBookConfig.imagesDir = '../_images/';
  eBookConfig.staticDir = '../_static/';
  if(typeof(Sk) != "undefined")
      Sk.imgPath = eBookConfig.imagesDir;
</script>

<div id="fb-root"></div>



  </head><body>


<!-- Begin navbar -->

<nav id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <img src="../_static/img/logo.png" style="width:80px; height: 80px;"> 
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="margin-top: 10px; margin-left: 25px;">
      <ul class="nav navbar-nav">
        <li class="active"><a href="../">Компоновање рачунарских програма</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container col-md-12" id="continue-reading"></div>

<div class="container col-md-8 col-md-offset-2" id="main-content" style="margin-top: 70px;">
  
  <div class="section" id="distributeddataprocessing">
<span id="id1"></span><h1>Расподељена обрада података<a class="headerlink" href="#distributeddataprocessing" title="Permalink to this headline">¶</a></h1>
<p>Расподељени системи се често користе за прикупљање, приступ и манипулацију великим скуповима података. На пример, системи база података описани раније у поглављу могу да раде преко скупова података који се чувају на више рачунара. Ниједан рачунар понаособ не мора садржати податке потребне за одговор на упит, па је неопходна комуникација међу њима да би се одговорило на захтеве за услугом.</p>
<p>Овај одељак истражује уобичајен сценарио обраде велике количине података у којем је скуп података превелик да би га обрадио један рачунар, па се уместо тога посао расподељује између многих рачунара од којих сваки обрађује део скупа података. Резултат обраде се често мора агрегирати на више рачунара, тако да се резултати израчунавања са једног рачунара могу комбиновати са другима. Да би се координисала ова расподељена обрада података, биће разговора о програмском оквиру под називом <a class="reference external" href="http://sr.wikipedia.org/wiki/MapReduce">MapReduce оквир</a>.</p>
<p>Прављење расподељеног програма за обраду података са MapReduce комбинује многе идеје представљене у овом рукопису. Програм се изражава у виду чистих функција које се користе за пресликавање то јест <em>мапирање</em> (<em>Map</em> део) великог скупа података, а затим за <em>свођење</em> (<em>Reduce</em> део) мапираних секвенци вредности у коначни резултат.</p>
<p>Познати концепти из функционалног програмирања обилато се користе у MapReduce програмима. MapReduce захтева да функције које се користе за мапирање и свођење података буду чисте функције. Уопштено гледано, програми изражени само у виду чистих функција имају знатну флексибилност у начину извршења. Подизрази се могу израчунати произвољним редоследом и у паралели, без утицаја на коначни резултат. MapReduce програм многе чисте функције вреднује, односно извршава у паралели, преуређујући израчунавања која се ефикасно извршавају у расподељеном систему.</p>
<p>Главна предност MapReduce-а је што намеће раздвајање брига и проблема између два дела расподељеног програма за обраду података:</p>
<ol class="arabic simple">
<li><p>Функције за мапирање и свођење које обрађују податке и комбинују резултате.</p></li>
<li><p>Комуникација и координација међу рачунарима.</p></li>
</ol>
<p>Механизам координације решава многа питања која се јављају у расподељеном израчунавању, као што су кварови на рачунарима, мрежни кварови и праћење напретка израчунавања. Иако управљање овим проблемима уноси одређене сложености у MapReduce програме, ниједна од тих сложености није директно изложена самом програмеру. Уместо тога, писање MapReduce програма захтева само навођење функција мапирања и свођења, као што је то написано у првој од горње две наведене тачке, док сви изазови расподељеног израчунавања остају сакривени апстракцијом.</p>
<div class="section" id="id2">
<span id="id3"></span><h2>MapReduce<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>MapReduce оквир као свој улаз претпоставља велики, неуређени ток улазних вредности произвољног типа. На пример, сваки унос може бити ред текста у неком огромном корпусу. Израчунавање се одвија у три корака.</p>
<ol class="arabic simple">
<li><p>На сваки улаз примењује се функција мапирања која даје нула или више међупарова кључ-вредност произвољног типа.</p></li>
<li><p>Сви међупарови парови кључ-вредност груписани су по кључу, тако да се парови са истим кључем могу свести заједно.</p></li>
<li><p>Функција свођења комбинује вредности за дати кључ <span class="math notranslate nohighlight">\(k\)</span> дајући нула или више вредности, које су све повезане са <span class="math notranslate nohighlight">\(k\)</span> у коначном излазу.</p></li>
</ol>
<p>Да би извршио ово израчунавање, MapReduce оквир ствара задатке (могуће на различитим рачунарима) који извршавају различите улоге у израчунавању. <em>Задатак мапирања</em> примењује функцију мапирања на неки подскуп улазних података и избацује међупарове кључ-вредност. <em>Задатак свођења</em> сортира и групише парове кључ-вредност по кључу, а затим примењује функцију свођења на вредности за сваки кључ. Сва комуникација између задатака мапирања и свођења обрађује се у MapReduce оквиру, као и задатак груписања међупарова кључ-вредност по кључу.</p>
<p>Да би се користило више рачунара у MapReduce програму, више мапера ради паралелно у <em>фази мапирања</em>, а више редуктора, то јест свођача ради паралелно у <em>фази свођења</em>. Између ових фаза, <em>фаза сортирања</em> групише парове кључ-вредност једноставним сортирањем тако да су сви парови кључ-вредност са истим кључем суседни.</p>
<p>Размотрити проблем пребројавања самогласника у корпусу текста. Овај проблем може се решити помоћу MapReduce оквира уз одговарајући избор функција мапирања и свођења. Функција мапирања узима као свој улаз ред текста и враћа парове кључ-вредност у којима је кључ самогласник, а вредност број самогласника у датом реду. Нулти бројеви самогласника су изостављени из излаза:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">избројСамогласнике</span><span class="p">(</span><span class="n">ред</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&quot;&quot;&quot;Функција мапирања која броји самогласнике у реду.&quot;&quot;&quot;</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">самогласник</span> <span class="ow">in</span> <span class="s1">&#39;аеиоу&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">број</span> <span class="o">=</span> <span class="n">ред</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">самогласник</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">број</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">emit</span><span class="p">(</span><span class="n">самогласник</span><span class="p">,</span> <span class="n">број</span><span class="p">)</span>
</pre></div>
</div>
<p>Функција свођења је заправо уграђена <code class="docutils literal notranslate"><span class="pre">sum</span></code> функција збира у Пајтону, која као свој улаз прима итератор кроз вредности (све вредности за дати кључ) и враћа њихов збир.</p>
</div>
<div class="section" id="localimplementation">
<span id="id4"></span><h2>Локална имплементација<a class="headerlink" href="#localimplementation" title="Permalink to this headline">¶</a></h2>
<p>Да би се одредила MapReduce апликацију, потребна је имплементација MapReduce оквира у који се могу уметнути функције мапирања и свођења. У следећем одељку биће искоришћена слободна <a class="reference external" href="http://sr.wikipedia.org/wiki/Апачи_Хадуп">Хадуп</a> имплементација. У овом одељку биће развијена минимална имплементација користећи уграђене алате ГНУ/Линукс оперативног система.</p>
<p>Оперативни систем ГНУ/Линукс, као и други Јуниксолики оперативни системи, ствара апстракцијску баријеру између корисничких програма и основног хардвера рачунара. Такође пружа и механизам за међусобну комуникацију програма, посебно омогућавањем да један програм прима излаз другог. У свом првобитном тексту о Јуникс програмирању, Брајан Керниген и Роберт Пајк тврде да: „Снага система долази више из односа међу програмима него из самих програма.”</p>
<p>Датотека која садржи изворни код у Пајтону се претворити у ГНУ/Линукс програм додавањем коментара у први ред који указује на то да програм треба извршити помоћу Пајтон 3 интерпретатора. Улаз у ГНУ/Линукс програм је итерирајући објекат који се назива <em>стандардни улаз</em> и којем се приступа као <code class="docutils literal notranslate"><span class="pre">sys.stdin</span></code>. Итерирање над овим објектом производи редове текста у виду ниске као вредности. Излаз ГНУ/Линукс програма назива се <em>стандардни излаз</em> и њему се приступа као <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code>. Уграђена <code class="docutils literal notranslate"><span class="pre">print</span></code> функција исписује ред текста на стандардни излаз. Следећи ГНУ/Линукс програм исписује сваки ред свог улаза на свој излаз обрнуто:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">for</span> <span class="n">ред</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ред</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Ако се овај програм сачува у датотеци под именом <code class="docutils literal notranslate"><span class="pre">обрнуто.py</span></code>, може се извршити као ГНУ/Линукс програм. Прво, мора се рећи оперативном систему да је написан извршни програм:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ chmod u+x обрнуто.py
</pre></div>
</div>
<p>Даље, може се проследити улаз у овај програм. Улаз у програм може доћи и из другог програма. Овај ефекат се постиже коришћењем <code class="docutils literal notranslate"><span class="pre">|</span></code> симбола (названим „цев”) који каналише излаз програма пре цеви у програм после цеви. Програм <code class="docutils literal notranslate"><span class="pre">host</span></code> исписује име хоста за унету ИП адресу (у овом случају за <a class="reference external" href="http://www.sanu.ac.rs">Српску академију наука и уметности</a>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ host <span class="m">147</span>.91.101.20 <span class="p">|</span> ./обрнуто.py
.sr.ca.unas.sinkanargo.www retniop eman niamod apra.rdda-ni.741.19.101.02
.sr.ca.unas.mbibew retniop eman niamod apra.rdda-ni.741.19.101.02
.sr.ca.unas.www retniop eman niamod apra.rdda-ni.741.19.101.02
</pre></div>
</div>
<p>Програм <code class="docutils literal notranslate"><span class="pre">cat</span></code> исписује садржај датотека. Тако се програм <code class="docutils literal notranslate"><span class="pre">обрнуто.py</span></code> може користити за изокретање садржаја датотеке <code class="docutils literal notranslate"><span class="pre">обрнуто.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cat обрнуто.py <span class="p">|</span> ./обрнуто.py
3nohtyp vne/nib/rsu/!#

sys tropmi

:nidts.sys ni дер rof
<span class="o">)]</span><span class="m">1</span>-::<span class="o">[)</span><span class="s1">&#39;n\&#39;</span><span class="o">(</span>pirts.дер<span class="o">(</span>tnirp
</pre></div>
</div>
<p>Ови алати су довољни за имплементацију основног MapReduce оквира. Ова верзија има само један задатак мапирања и један задатак свођења, а оба су ГНУ/Линукс програми имплементирани у Пајтону. Цела MapReduce апликација покреће се помоћу следеће наредбе:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cat input <span class="p">|</span> ./mapper.py <span class="p">|</span> sort <span class="p">|</span> ./reducer.py
</pre></div>
</div>
<p>Програми <code class="docutils literal notranslate"><span class="pre">mapper.py</span></code> и <code class="docutils literal notranslate"><span class="pre">reducer.py</span></code> морају имплементирати функцију мапирања и функцију свођења, заједно са неким једноставним улазним и излазним понашањем. На пример, да би се имплементирала горе описана апликација за бројање самогласника, написао би се следећи <code class="docutils literal notranslate"><span class="pre">избројСамогласникеМапер.py</span></code> програм:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

import sys
from mr import emit

def избројСамогласнике<span class="o">(</span>ред<span class="o">)</span>:
    <span class="s2">&quot;&quot;&quot;Функција мапирања која броји самогласнике у реду.&quot;&quot;&quot;</span>
    <span class="k">for</span> самогласник <span class="k">in</span> <span class="s1">&#39;аеиоу&#39;</span>:
        <span class="nv">број</span> <span class="o">=</span> ред.count<span class="o">(</span>самогласник<span class="o">)</span>
        <span class="k">if</span> број &gt; <span class="m">0</span>:
            emit<span class="o">(</span>самогласник, број<span class="o">)</span>

<span class="k">for</span> ред <span class="k">in</span> sys.stdin:
    избројСамогласнике<span class="o">(</span>ред<span class="o">)</span>
</pre></div>
</div>
<p>Поред тога, требало би написати и следећи <code class="docutils literal notranslate"><span class="pre">збирноСвођење.py</span></code> програм:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

import sys
from mr import values_by_key, emit

<span class="k">for</span> кључ, вредностИтератор <span class="k">in</span> values_by_key<span class="o">(</span>sys.stdin<span class="o">)</span>:
    emit<span class="o">(</span>кључ, sum<span class="o">(</span>вредностИтератор<span class="o">))</span>
</pre></div>
</div>
<p>Модул <code class="docutils literal notranslate"><span class="pre">mr</span></code> је пратећи модул овом тексту који садржи функције <code class="docutils literal notranslate"><span class="pre">emit</span></code> за емитовање пара кључ-вредност и <code class="docutils literal notranslate"><span class="pre">values_by_key</span></code> за груписање вредности које имају исти кључ. Пример имплементације функције за емитовање прилично је једноставан:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="n">кључ</span><span class="p">,</span> <span class="n">вредност</span><span class="p">,</span> <span class="n">reprПровера</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&quot;&quot;&quot;Емитуј пар кључ-вредност као ред текста. Да би се овај пар кључ-вредност</span>
<span class="gp">... </span><span class="sd">       касније успешно очитао, и кључ и вредност морају бити исправне repr ниске.&quot;&quot;&quot;</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">reprПровера</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">assert</span> <span class="nb">eval</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">кључ</span><span class="p">))</span> <span class="o">==</span> <span class="n">кључ</span><span class="p">,</span> <span class="s1">&#39;Неисправна представа кључа&#39;</span>
<span class="gp">... </span>        <span class="k">assert</span> <span class="nb">eval</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">вредност</span><span class="p">))</span> <span class="o">==</span> <span class="n">вредност</span><span class="p">,</span> <span class="s1">&#39;Неисправна представа вредности&#39;</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">кључ</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">вредност</span><span class="p">))</span>
</pre></div>
</div>
<p>Поменути <code class="docutils literal notranslate"><span class="pre">mr</span></code> модул такође укључује сучеље ка Хадуп расподељеној имплементацији за MapReduce оквир.</p>
<p>Коначно, уз претпоставку да је у следећу улазну датотеку под називом <code class="docutils literal notranslate"><span class="pre">химна.txt</span></code> записано:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Боже правде, ти што спасе од пропасти досад нас,
чуј и одсад наше гласе и од сад нам буди спас.

Моћном руком води, брани будућности српске брод,
Боже спаси, Боже храни,
српске земље, српски род!

Боже спаси, Боже брани
моли ти се српски род!
</pre></div>
</div>
<p>Локално извршење које користи ГНУ/Линукс цеви и цевоводе даје тачан број сваког самогласника у химни:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cat химна.txt <span class="p">|</span> ./избројСамогласникеМапер.py <span class="p">|</span> sort <span class="p">|</span> ./збирноСвођење.py
<span class="s1">&#39;а&#39;</span>     <span class="m">16</span>
<span class="s1">&#39;е&#39;</span>     <span class="m">14</span>
<span class="s1">&#39;и&#39;</span>     <span class="m">16</span>
<span class="s1">&#39;о&#39;</span>     <span class="m">20</span>
<span class="s1">&#39;у&#39;</span>     <span class="m">5</span>
</pre></div>
</div>
</div>
<div class="section" id="distributedimplementation">
<span id="id7"></span><h2>Расподељена имплементација<a class="headerlink" href="#distributedimplementation" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://sr.wikipedia.org/wiki/Апачи_Хадуп">Хадуп</a> је назив слободне имплементације MapReduce програмског оквира који извршава MapReduce апликације на кластеру рачунара, расподељујући улазне податке и прорачуне за ефикасну паралелну обраду. Његово сучеље омогућава произвољним ГНУ/Линукс програмима да дефинишу функције мапирања и свођења. У ствари, горе написани програми <code class="docutils literal notranslate"><span class="pre">избројСамогласникеМапер.py</span></code> и <code class="docutils literal notranslate"><span class="pre">збирноСвођење.py</span></code> могу се користити директно са Хадуп инсталацијом за израчунавање броја самогласника на великим текстуалним корпусима.</p>
<p>Хадуп нуди неколико предности у односу на горњу поједностављену локалну MapReduce имплементацију. Прва је брзина: функције мапирања и свођења примењују се у паралели користећи различите задатке на различитим рачунарима који раде истовремено. Друга је толеранција на грешке и отказе: када неки задатак из било ког разлога закаже, његов резултат може бити прерачунат другим задатком како би се довршило укупно израчунавање. Треће је надгледање: програмски оквир пружа корисничко сучеље за праћење напретка MapReduce апликације.</p>
<p>Да би се покренуо програм за бројање самогласника помоћу приложеног <code class="docutils literal notranslate"><span class="pre">mr.py</span></code> модула, треба инсталирати Апачи Хадуп, променити наредбу доделе <code class="docutils literal notranslate"><span class="pre">HADOOP</span></code> променљивама тако да показују ка путањама локалне инсталације, затим ископирати колекцију текстуалних датотека у Хадупов расподељени датотечни систем и на крају покренути:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python3 mr.py избројСамогласникеМапер.py збирноСвођење.py <span class="o">[</span>улаз<span class="o">]</span> <span class="o">[</span>излаз<span class="o">]</span>
</pre></div>
</div>
<p>где су [улаз] и [излаз] директоријуми у Хадуп датотечном систему.</p>
<p>Више информација о Хадуп сучељу и уопште о употреби самог система може се пронаћи у званичној <a class="reference external" href="http://hadoop.apache.org/docs/stable">Хадуп документацији</a>.</p>
</div>
</div>


  
      <div class="col-md-12">
<ul class="pager">
        <li id="relations-prev" title='Previous chapter - Расподељено израчунавање' data-toggle="tooltip"><a href="6-расподељено-израчунавање.html">Претходно поглавље</a></li>
    
        <li id="relations-next" title='Next chapter - Паралелна обрада' data-toggle="tooltip"><a href="8-паралелна-обрада.html">Следеће поглавље</a></li>
</ul>

<!-- <ul class="pager"> -->
    <!-- -->
        <!-- <li id="relations-prev" title='Претходно поглавље - Расподељено израчунавање' data-toggle="tooltip"><a href="6-расподељено-израчунавање.html">Претходно поглавље</a></li> -->
    <!--  -->
    <!-- -->
        <!-- <li id="relations-next" title='Следеће поглавље - Паралелна обрада' data-toggle="tooltip"><a href="8-паралелна-обрада.html">Следеће поглавље</a></li> -->
    <!-- -->
<!-- </ul> -->

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});

</script>
</div>
  
</div>
<footer class="footer col-md-12">
    <div class="container">
        <div class="text-center">
            <hr>
            <p class="text-muted">
                <span class="pull-left">&copy; 2019 Petlja (Created using  <a href="https://pypi.org/project/Sphinx/">Swinx</a>, <a href="http://runestoneinteractive.org/">RunestoneComponents</a> and <a href="https://github.com/Petlja/PetljaDoc">PetljaDoc</a>)</span>
            </p>
        </div>
    </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>